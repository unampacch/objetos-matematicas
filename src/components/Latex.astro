---
import katex from 'katex'
const { inline, formula = '', class: className, ...rest } = Astro.props as Props

const html = katex.renderToString(formula, { throwOnError: false })

interface Props {
	class?: string
	inline?: boolean
	formula?: string
}
---

<span
	class={`
      ${inline ? 'inline-block' : 'block'} ${className}
    `}
	set:html={html}
/>

<link
	rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.css"
	integrity="sha384-WsHMgfkABRyG494OmuiNmkAOk8nhO1qE+Y6wns6v+EoNoTNxrWxYpl5ZYWFOLPCM"
	crossorigin="anonymous"
/>
