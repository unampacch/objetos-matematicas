---
import { asignaturas } from '@/pages/asignaturas/asignaturas.json'
const asignaturaNames = ['matematicas_1', 'matematicas_2', 'matematicas_3', 'matematicas_3','calculo','estadistica']
let objetos_aprendizaje: any[] = []
asignaturaNames.forEach((name) => {
	if (asignaturas[name as keyof typeof asignaturas]) {
		objetos_aprendizaje = [
			...objetos_aprendizaje,
			...asignaturas[name as keyof typeof asignaturas].objetos_aprendizaje
		]
	}
})
let randomIndex = Math.floor(Math.random() * objetos_aprendizaje.length)
let objeto_aprendizaje = objetos_aprendizaje[randomIndex]
---

<!-- Para mejorar esto podemos hacer que solo busque 1 en cada asgnaturaNames para evitar que se repitan -->
<a href={objeto_aprendizaje.slug}>
	<article
		class="group relative
      h-full
      overflow-hidden rounded-xl
      border border-light/50
      shadow-inner
      shadow-white/10
      backdrop-blur-md"
	>
		<div
			class="absolute bottom-0 top-0 z-10 h-full w-full
      bg-gradient-to-b from-transparent from-30% via-dark/80 to-darkblue/90"
		>
		</div>
		<img
			class="transition-scale absolute bottom-0 left-0 top-0 -z-10 h-full object-cover opacity-90 duration-1000 ease-in-out
		group-hover:scale-110 md:w-full"
			src={objeto_aprendizaje.portada}
			alt={objeto_aprendizaje.titulo}
		/>
		<div
			class="relative z-20 flex h-full select-none flex-col justify-end gap-1 p-4 text-lg md:p-6"
		>
			<div class="rounded-tr-2xl bg-darkblue/[.5] px-3 py-2 backdrop-blur-md">
				<h3
					class="mb-4 text-balance border-b-2 bg-gradient-to-r from-blue to-lightblue bg-clip-text pb-1 text-3xl font-semibold uppercase text-transparent"
				>
					{objeto_aprendizaje.titulo}
				</h3>
			</div>
		</div>
	</article>
</a>
